<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Thai Flashcards</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+Thai:wght@400;600&family=Space+Grotesk:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/svg+xml" href="./icon-192.svg" />
    <link rel="stylesheet" href="styles.css?v=2026-02-21b" />
  </head>
  <body>
    <div class="app">
      <section class="setup" id="setupSection">
        <div class="setup-header">
          <div>
            <h1>Thai Flashcards</h1>
            <p class="muted" style="font-weight:700">Choose your settings. <span style="color:#F4A300">Use Mobile if you want text-to-speech for Thai.</span> Get 100% in a section to earn a <span style="color:#F4A300">MANGO!!!</span></p>
          </div>
          <div class="header-right">
            <span class="profile-bar">
              <span class="muted">Profile:</span>
              <strong id="activeProfile" style="margin-right:5px">â€”</strong>
              <button id="switchProfileBtn" class="ghost small">Switch</button>
            </span>
            <label class="theme-switch" title="Toggle dark mode">
              <span class="theme-label">Light Mode</span>
              <input type="checkbox" id="themeToggle" />
              <span class="theme-slider"></span>
            </label>
          </div>
        </div>
        <div class="setup-summary" id="setupSummary"></div>
        <div class="setup-grid">
          <div class="setup-block">
            <h2>Fields on Front</h2>
            <div class="field-grid" id="frontFields"></div>
          </div>
          <div class="setup-block">
            <h2>Fields on Back</h2>
            <div class="field-grid" id="backFields"></div>
          </div>
          <div class="setup-block">
            <h2>Session Options</h2>
            <label class="toggle">
              <input type="checkbox" id="shuffleToggle" />
              <span>Shuffle</span>
            </label>
            <span style="display:inline-flex; align-items:center; gap:6px;">
              <label class="toggle">
                <input type="checkbox" id="srsToggle" />
                <span>Spaced repetition</span>
              </label>
              <button id="srsHelpBtn" class="help-btn" title="What is Spaced Repetition?">?</button>
            </span>
            <button id="resetSrsBtn" class="ghost small">Reset SRS</button>
          </div>
        </div>
        <div class="category-controls">
          <button id="selectAllBtn" class="ghost">Select All</button>
          <button id="clearAllBtn" class="ghost">Clear All</button>
        </div>
        <div id="categoryList" class="category-list"></div>
        <div class="category-start">
          <button id="startBtn" class="primary">Start Session</button>
          <span id="mangoCounter" class="mango-counter">ðŸ¥­ 0 / 0</span>
        </div>
      </section>

      <section class="card-section" id="cardSection">
        <div class="session-info">
          <span id="progressText">0 / 0</span>
          <span class="dot">â€¢</span>
          <span id="activeCategories">All categories</span>
          <button id="setupToggle" class="ghost small hidden" aria-expanded="true">Change flash cards</button>
        </div>
        <div class="card" id="flashcard">
          <div class="card-face" id="cardFront">
            <div class="card-fields" id="frontFieldsView"></div>
            <div class="hint" id="frontHint">Tap to flip</div>
          </div>
          <div class="card-face" id="cardBack">
            <div class="card-fields" id="backFieldsView"></div>
          </div>
        </div>
        <div class="session-controls">
          <div class="session-controls__spacer" aria-hidden="true"></div>
          <div class="session-controls__center">
            <button id="wrongBtn" class="danger">Wrong</button>
            <button id="correctBtn" class="success">Correct</button>
          </div>
          <div class="session-controls__right">
            <div class="card-tracker" id="cardTracker">0 / 0</div>
          </div>
        </div>
        <div class="status" id="sessionStatus">Select categories to begin.</div>
      </section>
    </div>

    <div class="modal" id="profileModal">
      <div class="modal-card">
        <h2>Choose Profile</h2>
        <div id="profileList" class="profile-list"></div>
        <div class="profile-create">
          <input type="text" id="newProfileName" placeholder="New profile name" />
          <button id="createProfileBtn" class="primary">Create</button>
        </div>
      </div>
    </div>

    <div class="modal" id="summaryModal">
      <div class="modal-card">
        <h2>Session Summary</h2>
        <div class="summary-top" id="summaryTop">0 right â€¢ 0 wrong â€¢ 0%</div>
        <div class="summary-list" id="summaryList"></div>
        <div class="summary-actions">
          <button id="reviewWrongBtn" class="primary">Review Wrong Cards</button>
          <button id="exitSummaryBtn" class="ghost">Exit</button>
        </div>
      </div>
    </div>

    <div class="modal" id="srsHelpModal">
      <div class="modal-card">
        <h2>What is Spaced Repetition?</h2>
        <div class="srs-help-content">
          <p>Spaced repetition (SRS) is a study method that shows you cards at increasing intervals based on how well you know them.</p>
          <ul>
            <li>Cards you get <strong>wrong</strong> are shown again sooner</li>
            <li>Cards you get <strong>right</strong> are spaced out further into the future</li>
            <li>This focuses your study time on the cards you struggle with most</li>
          </ul>
          <p>When SRS is enabled, only "due" cards appear in your session. The count next to each category shows how many cards are due vs total (e.g., 5/19 means 5 cards are due out of 19).</p>
          <p>Turn SRS <strong>off</strong> to practice all cards regardless of schedule.</p>
        </div>
        <button id="srsHelpCloseBtn" class="ghost">Got it</button>
      </div>
    </div>

    <script src="app.js?v=2026-02-21b" defer></script>
  </body>
</html>
